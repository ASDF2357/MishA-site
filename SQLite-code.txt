CREATE TABLE "Users" (
	"USER_ID"	INTEGER NOT NULL,
	"LOGIN"	TEXT NOT NULL UNIQUE,
	"PASSWORD"	TEXT NOT NULL,
	PRIMARY KEY("USER_ID" AUTOINCREMENT)
);
CREATE TABLE "Adresses" (
	"ADRESS_ID"	INTEGER,
	"USER_ID"	INTEGER NOT NULL,
	"STREET"	INTEGER NOT NULL,
	"HOUSE"	INTEGER NOT NULL,
	"BUILDING"	TEXT NOT NULL,
	PRIMARY KEY("ADRESS_ID" AUTOINCREMENT),
	FOREIGN KEY("USER_ID") REFERENCES "Users"("USER_ID")
);
CREATE TABLE "Orders" (
	"ORDER_ID"	INTEGER,
	"USER_ID"	INTEGER NOT NULL,
	"ADRESS_ID"	INTEGER NOT NULL,
	"DATA"	TEXT NOT NULL,
	"STATUS"	TEXT NOT NULL,
	PRIMARY KEY("ORDER_ID" AUTOINCREMENT),
	FOREIGN KEY("ADRESS_ID") REFERENCES "Adresses"("ADRESS_ID"),
	FOREIGN KEY("USER_ID") REFERENCES "Users"("USER_ID")
);


CREATE TABLE "Categories" (
	"CATEGORY_ID"	INTEGER,
	"NAME"	TEXT NOT NULL UNIQUE,
	PRIMARY KEY("CATEGORY_ID" AUTOINCREMENT)
);
CREATE TABLE "Products" (
	"PRODUCT_ID"	INTEGER,
	"CATEGORY_ID"	INTEGER NOT NULL,
	"NAME"	TEXT NOT NULL UNIQUE,
	"ABOUT"	TEXT,
	FOREIGN KEY("CATEGORY_ID") REFERENCES "Categories"("CATEGORY_ID"),
	PRIMARY KEY("PRODUCT_ID" AUTOINCREMENT)
);
CREATE TABLE "Prises" (
	"PRISE_ID"	INTEGER,
	"PRODUCT_ID"	INTEGER NOT NULL,
	"PRISE"	INTEGER NOT NULL,
	"DATA_BEGIN"	TEXT NOT NULL,
	"DATA_END"	TEXT NOT NULL,
	FOREIGN KEY("PRODUCT_ID") REFERENCES "Products"("PRODUCT_ID"),
	PRIMARY KEY("PRISE_ID" AUTOINCREMENT)
);
CREATE TABLE "Order_list" (
	"ORDER_LIST_ID"	INTEGER,
	"ORDER_ID"	INTEGER NOT NULL,
	"PRODUCT_ID"	INTEGER NOT NULL,
	"PRISE_ID"	INTEGER NOT NULL,
	"COUNT"	INTEGER NOT NULL,
	FOREIGN KEY("PRODUCT_ID") REFERENCES "Products"("PRODUCT_ID"),
	FOREIGN KEY("ORDER_ID") REFERENCES "Orders"("ORDER_ID"),
	FOREIGN KEY("PRISE_ID") REFERENCES "Prises"("PRISE_ID"),
	PRIMARY KEY("ORDER_LIST_ID" AUTOINCREMENT)
);
--CREATE TABLE "ORDER_LIST" (
	"Order_list_id"	INTEGER,
	"Order_id"	INTEGER NOT NULL,
	"Product_id"	INTEGER NOT NULL,
	"Prise_id"	INTEGER NOT NULL,
	"Count"	INTEGER NOT NULL,
	PRIMARY KEY("Order_list_id" AUTOINCREMENT),
	FOREIGN KEY("Order_id") REFERENCES "Orders"("ORDER_ID"),
	FOREIGN KEY("Product_id") REFERENCES "Products"("PRODUCT_ID")
);